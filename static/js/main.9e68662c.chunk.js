(this["webpackJsonpjeju-guide"]=this["webpackJsonpjeju-guide"]||[]).push([[0],{41:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(30),s=a.n(r),i=(a(41),a(6)),l=a(17),j=a(7),o=a(11),u=a.n(o),d=a(18),b=a(21);a(43),a(57),a(56);b.a.initializeApp({apiKey:"AIzaSyDbt76_Zwf7Pnx-cBDVxe6oDWnv32v9xqo",authDomain:"jeju-guide.firebaseapp.com",projectId:"jeju-guide",storageBucket:"jeju-guide.appspot.com",messagingSenderId:"350907878366",appId:"1:350907878366:web:2f3fcda2d82f9ab4602b4f",measurementId:"G-2F62EPJ668"});b.a;var p=b.a.auth(),h=b.a.firestore(),O=b.a.storage(),m=a(31),x=a(32),f=a(1),v=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(i.a)(r,2),l=s[0],j=s[1],o=Object(n.useState)(!0),b=Object(i.a)(o,2),h=b[0],O=b[1],v=Object(n.useState)(""),g=Object(i.a)(v,2),_=g[0],y=g[1],k=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?c(n):"password"===a&&j(n)},N=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!h){e.next=8;break}return e.next=5,p.createUserWithEmailAndPassword(a,l);case 5:e.sent,e.next=11;break;case 8:return e.next=10,p.signInWithEmailAndPassword(a,l);case 10:e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),"There is no user record corresponding to this identifier. The user may have been deleted."===e.t0.message?y("\uc785\ub825\ud558\uc2e0 \uc544\uc774\ub514\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):y(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"auth-form__container",children:Object(f.jsxs)("form",{className:"auth-form",onSubmit:N,children:[Object(f.jsx)("label",{className:"auth-form__title",children:"\ubbf8\uc290\ud0f1 \uac00\uc774\ub4dc"}),Object(f.jsx)("input",{className:"input auth__input",name:"email",type:"email",placeholder:"Email",required:!0,value:a,onChange:k}),Object(f.jsx)("input",{className:"input auth__input",name:"password",type:"password",placeholder:"Password",required:!0,value:l,onChange:k}),Object(f.jsx)("input",{className:"btn",type:"submit",value:h?"Create Account":"Log In"}),Object(f.jsx)("span",{className:"error",children:_}),Object(f.jsxs)("span",{className:"change-btn",onClick:function(){return O((function(e){return!e}))},children:[Object(f.jsx)(m.a,{icon:x.a,className:"change-btn__logo"}),h?"Log In":"Create Account"]})]})})})},g=function(){var e=Object(j.g)().state.place,t=Object(j.f)(),a=Object(n.useState)(0),c=Object(i.a)(a,2),r=c[0],s=c[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:e.name}),Object(f.jsx)("img",{src:e.attachmentUrlArray[r],style:{maxHeight:"300px"},alt:"detail-img"}),Object(f.jsxs)("div",{className:"map-detail__img-btn__container",children:[0!==r&&Object(f.jsx)("button",{className:"map-detail__img-btn prev",onClick:function(){r>0&&s((function(e){return e-1}))},children:"\u25c0"}),r!==e.attachmentUrlArray.length-1&1!==e.attachmentUrlArray.lenth&&Object(f.jsx)("button",{className:"map-detail__img-btn next",onClick:function(){r<4&&s((function(e){return e+1}))},children:"\u25b6"})]}),Object(f.jsx)("p",{children:e.description}),Object(f.jsx)("button",{onClick:function(){t.push({pathname:"/",state:{prevViewType:"\ubaa9\ub85d"}})},children:"Back"})]})},_=a(36),y=function(e){var t=e.places;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("table",{className:"map-list__table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"\ubc88\ud638"}),Object(f.jsx)("th",{children:"\uc774\ub984"}),Object(f.jsx)("th",{children:"\uc8fc\uc18c"}),Object(f.jsx)("th",{children:"\uc124\uba85"})]})}),t.map((function(e,t){return Object(f.jsx)("tbody",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:t+1}),Object(f.jsx)("td",{children:Object(f.jsx)(l.b,{to:{pathname:"/detail",state:{place:e}},children:e.name})}),Object(f.jsx)("td",{children:e.addressDetail}),Object(f.jsx)("td",{children:e.description})]})},t)}))]})})},k=function(e){var t=e.places,a=Object(n.useState)("\uc804\uccb4"),c=Object(i.a)(a,2),r=c[0],s=c[1],l=Object(n.useState)(null),j=Object(i.a)(l,2),o=j[0],u=j[1],d=Object(n.useState)(0),b=Object(i.a)(d,2),p=b[0],h=b[1],O=Object(n.useState)(!1),m=Object(i.a)(O,2),x=m[0],v=m[1],g=Object(n.useState)([]),_=Object(i.a)(g,2),y=(_[0],_[1],Object(n.useRef)(null)),k={},N={center:new kakao.maps.LatLng(33.3817,126.5602),level:10},w=function(e){var t='<div class="place__infowindow">'.concat(e.name,"</div>"),a=new kakao.maps.LatLng(e.geocode[0],e.geocode[1]),n=new kakao.maps.CustomOverlay({content:t,position:a,yAnchor:2}),c=new kakao.maps.Marker({map:k,position:a});kakao.maps.event.addListener(c,"click",function(e){return function(){u(e)}}(e)),kakao.maps.event.addListener(c,"mouseover",function(e,t){return function(){t.setMap(e),v(!0)}}(k,n)),kakao.maps.event.addListener(c,"mouseout",function(e){return function(){e.setMap(null),v(!1)}}(n))},C=function(e){var t=e.target.value;s(t)};return Object(n.useEffect)((function(){k=new window.kakao.maps.Map(y.current,N),t.map((function(e){"\uc804\uccb4"!==r&&e.type!==r||w(e)}))}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"map__container",children:[Object(f.jsxs)("div",{className:"vertical",children:[Object(f.jsx)("div",{className:"map",ref:y}),Object(f.jsxs)("div",{className:"map-radio__container",children:[Object(f.jsx)("input",{type:"radio",name:"input__place-type",value:"\uc804\uccb4",defaultChecked:!0,onChange:C}),Object(f.jsx)("label",{htmlFor:"\uc804\uccb4",children:"\uc804\uccb4"}),Object(f.jsx)("input",{type:"radio",name:"input__place-type",value:"\ub9db\uc9d1",onChange:C}),Object(f.jsx)("label",{htmlFor:"\ub9db\uc9d1",children:"\ub9db\uc9d1"}),Object(f.jsx)("input",{type:"radio",name:"input__place-type",value:"\uce74\ud398 & \ubca0\uc774\ucee4\ub9ac",onChange:C}),Object(f.jsx)("label",{htmlFor:"\uce74\ud398 & \ubca0\uc774\ucee4\ub9ac",children:"\uce74\ud398 & \ubca0\uc774\ucee4\ub9ac"}),Object(f.jsx)("input",{type:"radio",name:"input__place-type",value:"\ud48d\uacbd",onChange:C}),Object(f.jsx)("label",{htmlFor:"\ud48d\uacbd",children:"\ud48d\uacbd"}),Object(f.jsx)("input",{type:"radio",name:"input__place-type",value:"\uc220\uc9d1",onChange:C}),Object(f.jsx)("label",{htmlFor:"\uc220\uc9d1",children:"\uc220\uc9d1"}),Object(f.jsx)("input",{type:"radio",name:"input__place-type",value:"\uadf8 \uc678 \uac00\ubcfc\ub9cc\ud55c \uacf3",onChange:C}),Object(f.jsx)("label",{htmlFor:"\uadf8 \uc678 \uac00\ubcfc\ub9cc\ud55c \uacf3",children:"\uadf8 \uc678 \uac00\ubcfc\ub9cc\ud55c \uacf3"})]}),x&&Object(f.jsx)("span",{children:"\ub354 \uc54c\uc544\ubcf4\uc2dc\ub824\uba74 \ub9c8\ucee4\ub97c \ud074\ub9ad\ud574\uc8fc\uc138\uc694."})]}),o&&Object(f.jsxs)("div",{className:"map__detail vertical",children:[Object(f.jsx)("h3",{children:o.name}),o.attachmentUrlArray[0]&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{src:o.attachmentUrlArray[p],alt:"detail-img",width:"100%",height:"auto"}),Object(f.jsxs)("div",{className:"map-detail__img-btn__container",children:[0!==p&&Object(f.jsx)("button",{className:"map-detail__img-btn prev",onClick:function(){p>0&&h((function(e){return e-1}))},children:"\u25c0"}),p!==o.attachmentUrlArray.length-1&1!==o.attachmentUrlArray.lenth&&Object(f.jsx)("button",{className:"map-detail__img-btn next",onClick:function(){p<4&&h((function(e){return e+1}))},children:"\u25b6"})]})]}),Object(f.jsx)("div",{children:o.description}),""!==o.url&&Object(f.jsx)("a",{href:o.url,target:"_blank",rel:"noreferrer",children:"\uad00\ub828 \uc0ac\uc774\ud2b8"}),Object(f.jsx)("div",{className:"map__detail-clear",onClick:function(){u(null)},children:"\u274c"})]})]})})},N=function(){var e=Object(j.g)(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),l=Object(i.a)(s,2),o=l[0],b=l[1],p=Object(n.useState)("\uc9c0\ub3c4"),O=Object(i.a)(p,2),m=O[0],x=O[1],v=function(e){var t=e.target.value;x(t)},g=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.collection("places").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(_.a)({id:e.id},e.data())}));b(t),r(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){g(),void 0!==e.state&&x(e.state.prevViewType)}),[]),Object(f.jsxs)("div",{className:"home__container",children:[Object(f.jsx)("h3",{className:"home__title",children:"MICHETAIN GUIDE"}),!0===c&"\uc9c0\ub3c4"===m?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"radio",name:"input__view-type",value:"\uc9c0\ub3c4",defaultChecked:!0,onChange:v}),Object(f.jsx)("label",{htmlFor:"\uc9c0\ub3c4",children:"\uc9c0\ub3c4"}),Object(f.jsx)("input",{type:"radio",name:"input__view-type",value:"\ubaa9\ub85d",onChange:v}),Object(f.jsx)("label",{htmlFor:"\ubaa9\ub85d",children:"\ubaa9\ub85d"})]}),Object(f.jsx)(k,{places:o})]}):!0===c&"\ubaa9\ub85d"===m?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(y,{places:o}),Object(f.jsx)("button",{onClick:function(){x("\uc9c0\ub3c4")},children:"\uc9c0\ub3c4\ub85c \ubcf4\uae30"})]}):"Loading..."]})},w=a(34),C=a(35),S=a.n(C),F=a(59),A=function(e){var t=e.userObj,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],s=c[1],l=Object(n.useState)(""),j=Object(i.a)(l,2),o=j[0],b=j[1],p=Object(n.useState)([]),m=Object(i.a)(p,2),x=m[0],v=m[1],g=Object(n.useState)("\uadf8\uc678 \uac00\ubcfc\ub9cc\ud55c \uacf3"),_=Object(i.a)(g,2),y=_[0],k=_[1],N=Object(n.useState)(""),C=Object(i.a)(N,2),A=C[0],L=C[1],I=Object(n.useState)([]),D=Object(i.a)(I,2),U=D[0],E=D[1],q=Object(n.useState)(""),T=Object(i.a)(q,2),M=T[0],B=T[1],P=Object(n.useState)(""),R=Object(i.a)(P,2),z=R[0],H=R[1],V=Object(n.useState)(""),W=Object(i.a)(V,2),G=W[0],J=W[1],K=Object(n.useState)(!1),X=Object(i.a)(K,2),Y=X[0],Z=X[1],Q=new kakao.maps.services.Geocoder,$=function(){var e=Object(d.a)(u.a.mark((function e(a){var n,c,i,l,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=[],U===[]){e.next=18;break}c=0;case 4:if(!(c<U.length)){e.next=17;break}return i=O.ref().child("".concat(t.uid,"/").concat(Object(F.a)())),e.next=8,i.putString(U[c],"data_url");case 8:return l=e.sent,e.t0=n,e.next=12,l.ref.getDownloadURL();case 12:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 14:c++,e.next=4;break;case 17:console.log(n);case 18:return j={name:r,addressDetail:G,address:z,extraAddress:o,geocode:x,type:y,description:A,attachmentUrlArray:n,url:M,creatorId:t.uid},e.next=21,h.collection("places").add(j);case 21:s(""),H(""),J(""),b(""),v([]),k(""),L(""),E([]),B("");case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.files,!((n=a).length<6)){e.next=13;break}return c={maxSizeMB:1,maxWidthOrHeight:1024},e.prev=4,e.delegateYield(u.a.mark((function e(){var t,a,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],a=0;case 2:if(!(a<n.length)){e.next=12;break}return e.next=5,Object(w.a)(n[a],c);case 5:r=e.sent,(s=new FileReader).readAsDataURL(r),s.onloadend=function(e){var a=e.currentTarget.result;t.push(a)};case 9:a++,e.next=2;break;case 12:E(t);case 13:case"end":return e.stop()}}),e)}))(),"t0",6);case 6:e.next=11;break;case 8:e.prev=8,e.t1=e.catch(4),console.log(e.t1);case 11:e.next=14;break;case 13:alert("\uc0ac\uc9c4\uc740 5\uc7a5\uae4c\uc9c0\uc785\ub2c8\ub2e4.");case 14:case"end":return e.stop()}}),e,null,[[4,8]])})));return function(t){return e.apply(this,arguments)}}(),te=function(e,t){if(t===kakao.maps.services.Status.OK){var a=[e[0].y,e[0].x];v(a)}},ae=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.address,n="","R"===t.addressType&&(""!==t.bname&&(n+=t.bname),""!==t.buildingName&&(n+=""!==n?", ".concat(t.buildingName):t.buildingName),a+=""!==n?" (".concat(n,")"):""),H(t.zonecode),J(a),e.next=7,Q.addressSearch(G,te);case 7:Z(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("form",{className:"post-form__container",onSubmit:$,children:[Object(f.jsxs)("div",{className:"post-form__content",children:[Object(f.jsx)("label",{htmlFor:"place-name",children:"\uc7a5\uc18c \uc774\ub984 : "}),Object(f.jsx)("input",{type:"text",name:"place-name",onChange:function(e){var t=e.target.value;s(t)},value:r,required:!0})]}),Object(f.jsxs)("div",{className:"post-form__content vertical",children:[Object(f.jsxs)("div",{className:"address-input",children:[Y&&Object(f.jsx)(S.a,{autoClose:!0,onComplete:ae}),Object(f.jsx)("button",{onClick:function(e){e.preventDefault(),Z(!Y)},children:"\uc8fc\uc18c \uc785\ub825(\uc9c0\ubc88)"})]}),Object(f.jsxs)("div",{className:"address-content__container",children:[Object(f.jsx)("label",{htmlFor:"place-address",children:"\uc8fc\uc18c : "}),Object(f.jsx)("input",{className:"place-address",type:"text",name:"place-address",value:G,readOnly:!0,required:!0}),Object(f.jsx)("input",{className:"place-address-number",type:"text",name:"place-address-number",value:z,readOnly:!0,required:!0})]}),Object(f.jsxs)("div",{className:"address-content__container",children:[Object(f.jsx)("label",{htmlFor:"place-address",children:"\ub098\uba38\uc9c0 \uc8fc\uc18c : "}),Object(f.jsx)("input",{type:"text",name:"place-extra-address",onChange:function(e){var t=e.target.value;b(t)},value:o})]}),Object(f.jsx)("input",{className:"place-geocode",type:"text",name:"place-geocode",readOnly:!0,value:x,required:!0})]}),Object(f.jsxs)("div",{className:"post-form__content vertical",children:[Object(f.jsx)("label",{htmlFor:"place-type",children:"\uc7a5\uc18c \uc885\ub958"}),Object(f.jsxs)("select",{name:"place-type",required:!0,onChange:function(e){var t=e.target.value;k(t)},children:[Object(f.jsx)("option",{value:"\ub9db\uc9d1",children:"\ub9db\uc9d1"}),Object(f.jsx)("option",{value:"\uce74\ud398 & \ubca0\uc774\ucee4\ub9ac",children:"\uce74\ud398 & \ubca0\uc774\ucee4\ub9ac"}),"\\",Object(f.jsx)("option",{value:"\ud48d\uacbd",children:"\ud48d\uacbd"}),Object(f.jsx)("option",{value:"\uc220\uc9d1",children:"\uc220\uc9d1"}),Object(f.jsx)("option",{value:"\uadf8 \uc678 \uac00\ubcfc\ub9cc\ud55c \uacf3",children:"\uadf8 \uc678 \uac00\ubcfc\ub9cc\ud55c \uacf3"})]})]}),Object(f.jsxs)("div",{className:"post-form__content vertical",children:[Object(f.jsx)("label",{htmlFor:"place-description",children:"\uc7a5\uc18c \uc124\uba85"}),Object(f.jsx)("textarea",{className:"place-description",name:"place-description",placeholder:"\uc124\uba85",onChange:function(e){var t=e.target.value;L(t)},value:A,required:!0})]}),Object(f.jsxs)("div",{className:"post-form__content vertical",children:[Object(f.jsx)("label",{htmlFor:"place-img",children:"\uc7a5\uc18c \uc0ac\uc9c4(\ud544\uc218 X)"}),Object(f.jsx)("input",{type:"file",accept:"image/*",name:"place-img",onChange:ee,multiple:!0})]}),Object(f.jsxs)("div",{className:"post-form__content vertical",children:[Object(f.jsx)("label",{htmlFor:"place-description",children:"\ucc38\uace0 \uc0ac\uc774\ud2b8 \uc8fc\uc18c(\uc788\ub2e4\uba74)"}),Object(f.jsx)("input",{type:"url",nmae:"place-url",placeholder:"\uc0ac\uc774\ud2b8 \uc8fc\uc18c",onChange:function(e){var t=e.target.value;B(t)},value:M})]}),Object(f.jsx)("input",{type:"submit",value:"\ub4f1\ub85d\ud558\uae30"})]})},L=function(e){var t=e.userObj,a=Object(j.f)();return Object(f.jsxs)("div",{className:"post__container",children:[Object(f.jsx)(A,{userObj:t}),Object(f.jsx)("button",{onClick:function(){a.push("/")},children:"Home"}),Object(f.jsx)("button",{onClick:function(){p.signOut(),a.push("/")},children:"Logout"})]})},I=function(e){var t=e.isLoggedIn,a=e.userObj;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(l.a,{children:Object(f.jsxs)(j.c,{children:[t?Object(f.jsx)(j.a,{exact:!0,path:"/auth",children:Object(f.jsx)(L,{userObj:a})}):Object(f.jsx)(j.a,{exact:!0,path:"/auth",children:Object(f.jsx)(v,{})}),Object(f.jsx)(j.a,{exact:!0,path:"/",children:Object(f.jsx)(N,{prevViewType:"\uc9c0\ub3c4"})}),Object(f.jsx)(j.a,{exact:!0,path:"/detail",children:Object(f.jsx)(g,{})})]})})})},D=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(i.a)(r,2),l=s[0],j=s[1];return Object(n.useEffect)((function(){p.onAuthStateChanged((function(e){j(e?{uid:e.uid}:null),c(!0)}))}),[]),Object(f.jsx)(f.Fragment,{children:a?Object(f.jsx)(I,{isLoggedIn:Boolean(l),userObj:l}):"Loading..."})};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(D,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.9e68662c.chunk.js.map