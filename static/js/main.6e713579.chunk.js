(this["webpackJsonpjeju-guide"]=this["webpackJsonpjeju-guide"]||[]).push([[0],{40:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),s=a(30),r=a.n(s),i=(a(40),a(6)),l=a(24),o=a(7),u=a(15),j=a.n(u),d=a(18),p=a(20);a(42),a(56),a(55);p.a.initializeApp({apiKey:"AIzaSyDbt76_Zwf7Pnx-cBDVxe6oDWnv32v9xqo",authDomain:"jeju-guide.firebaseapp.com",projectId:"jeju-guide",storageBucket:"jeju-guide.appspot.com",messagingSenderId:"350907878366",appId:"1:350907878366:web:2f3fcda2d82f9ab4602b4f",measurementId:"G-2F62EPJ668"});p.a;var b=p.a.auth(),O=p.a.firestore(),m=p.a.storage(),h=a(31),x=a(32),v=a(1),f=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1],u=Object(n.useState)(!0),p=Object(i.a)(u,2),O=p[0],m=p[1],f=Object(n.useState)(""),g=Object(i.a)(f,2),_=g[0],y=g[1],k=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?c(n):"password"===a&&o(n)},N=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!O){e.next=8;break}return e.next=5,b.createUserWithEmailAndPassword(a,l);case 5:e.sent,e.next=11;break;case 8:return e.next=10,b.signInWithEmailAndPassword(a,l);case 10:e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),"There is no user record corresponding to this identifier. The user may have been deleted."===e.t0.message?y("\uc785\ub825\ud558\uc2e0 \uc544\uc774\ub514\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):y(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"auth-form__container",children:Object(v.jsxs)("form",{className:"auth-form",onSubmit:N,children:[Object(v.jsx)("label",{className:"auth-form__title",children:"\ubbf8\uc290\ud0f1 \uac00\uc774\ub4dc"}),Object(v.jsx)("input",{className:"input auth__input",name:"email",type:"email",placeholder:"Email",required:!0,value:a,onChange:k}),Object(v.jsx)("input",{className:"input auth__input",name:"password",type:"password",placeholder:"Password",required:!0,value:l,onChange:k}),Object(v.jsx)("input",{className:"btn",type:"submit",value:O?"Create Account":"Log In"}),Object(v.jsx)("span",{className:"error",children:_}),Object(v.jsxs)("span",{className:"change-btn",onClick:function(){return m((function(e){return!e}))},children:[Object(v.jsx)(h.a,{icon:x.a,className:"change-btn__logo"}),O?"Log In":"Create Account"]})]})})})},g=a(35),_=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),l=r[0],o=r[1],u=Object(n.useState)("\uc804\uccb4"),p=Object(i.a)(u,2),b=p[0],m=p[1],h=Object(n.useState)(null),x=Object(i.a)(h,2),f=x[0],_=x[1],y=Object(n.useRef)(null),k={},N={center:new kakao.maps.LatLng(33.3817,126.5602),level:10},w=function(e){var t='<div class="place__infowindow">'.concat(e.name,"</div>"),a=new kakao.maps.LatLng(e.geocode[0],e.geocode[1]),n=new kakao.maps.CustomOverlay({content:t,position:a,yAnchor:2}),c=new kakao.maps.Marker({map:k,position:a});kakao.maps.event.addListener(c,"click",function(e){return function(){_(e)}}(e)),kakao.maps.event.addListener(c,"mouseover",function(e,t){return function(){t.setMap(e)}}(k,n)),kakao.maps.event.addListener(c,"mouseout",function(e){return function(){e.setMap(null)}}(n))},S=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("places").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));c(t),o(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){var t=e.target.value;m(t)};return Object(n.useEffect)((function(){S(),l&&(k=new window.kakao.maps.Map(y.current,N),a.map((function(e){"\uc804\uccb4"!==b&&e.type!==b||w(e)})))}),[l,b]),Object(v.jsx)(v.Fragment,{children:l?Object(v.jsxs)("div",{className:"map__container",children:[Object(v.jsxs)("div",{className:"vertical",children:[Object(v.jsx)("div",{className:"map",ref:y}),Object(v.jsxs)("div",{className:"map-radio__container",children:[Object(v.jsx)("input",{type:"radio",name:"input__place-type",value:"\uc804\uccb4",defaultChecked:!0,onChange:C}),Object(v.jsx)("label",{htmlFor:"\uc804\uccb4",children:"\uc804\uccb4"}),Object(v.jsx)("input",{type:"radio",name:"input__place-type",value:"\ub9db\uc9d1",onChange:C}),Object(v.jsx)("label",{htmlFor:"\uc804\uccb4",children:"\ub9db\uc9d1"}),Object(v.jsx)("input",{type:"radio",name:"input__place-type",value:"\uce74\ud398 & \ubca0\uc774\ucee4\ub9ac",onChange:C}),Object(v.jsx)("label",{htmlFor:"\uc804\uccb4",children:"\uce74\ud398 & \ubca0\uc774\ucee4\ub9ac"}),Object(v.jsx)("input",{type:"radio",name:"input__place-type",value:"\ud48d\uacbd",onChange:C}),Object(v.jsx)("label",{htmlFor:"\uc804\uccb4",children:"\ud48d\uacbd"}),Object(v.jsx)("input",{type:"radio",name:"input__place-type",value:"\uadf8 \uc678 \uac00\ubcfc\ub9cc\ud55c \uacf3",onChange:C}),Object(v.jsx)("label",{htmlFor:"\uc804\uccb4",children:"\uadf8 \uc678 \uac00\ubcfc\ub9cc\ud55c \uacf3"})]})]}),f&&Object(v.jsxs)("div",{className:"map__detail vertical",children:[Object(v.jsx)("h3",{children:f.name}),Object(v.jsx)("div",{children:f.description}),Object(v.jsx)("div",{className:"map__detail-clear",onClick:function(){_(null)},children:"\u274c"})]})]}):"Loading..."})},y=function(){return Object(v.jsxs)("div",{className:"home__container",children:[Object(v.jsx)("h3",{className:"home__title",children:"MICHETAIN GUIDE"}),Object(v.jsx)(_,{})]})},k=a(33),N=a.n(k),w=a(58),S=function(e){var t=e.userObj,a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),u=o[0],p=o[1],b=Object(n.useState)([]),h=Object(i.a)(b,2),x=h[0],f=h[1],g=Object(n.useState)("\uadf8\uc678 \uac00\ubcfc\ub9cc\ud55c \uacf3"),_=Object(i.a)(g,2),y=_[0],k=_[1],S=Object(n.useState)(""),C=Object(i.a)(S,2),F=C[0],L=C[1],I=Object(n.useState)(""),A=Object(i.a)(I,2),D=A[0],q=A[1],E=Object(n.useState)(""),M=Object(i.a)(E,2),P=M[0],R=M[1],T=Object(n.useState)(""),U=Object(i.a)(T,2),B=U[0],z=U[1],G=Object(n.useState)(""),J=Object(i.a)(G,2),W=J[0],H=J[1],K=Object(n.useState)(!1),V=Object(i.a)(K,2),X=V[0],Z=V[1],Q=new kakao.maps.services.Geocoder,Y=function(){var e=Object(d.a)(j.a.mark((function e(a){var n,c,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n="",""===D){e.next=10;break}return c=m.ref().child("".concat(t.uid,"/").concat(Object(w.a)())),e.next=6,c.putString(D,"data_url");case 6:return i=e.sent,e.next=9,i.ref.getDownloadURL();case 9:n=e.sent;case 10:return l={name:s,addressDetail:W,address:B,extraAddress:u,geocode:x,type:y,description:F,attachmentUrl:n,url:P,creatorId:t.uid},e.next=13,O.collection("places").add(l);case 13:r(""),z(""),H(""),p(""),f([]),k(""),L(""),q(""),R("");case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(e,t){if(t===kakao.maps.services.Status.OK){var a=[e[0].y,e[0].x];f(a)}},ee=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.address,n="","R"===t.addressType&&(""!==t.bname&&(n+=t.bname),""!==t.buildingName&&(n+=""!==n?", ".concat(t.buildingName):t.buildingName),a+=""!==n?" (".concat(n,")"):""),z(t.zonecode),H(a),e.next=7,Q.addressSearch(W,$);case 7:Z(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("form",{className:"post-form__container",onSubmit:Y,children:[Object(v.jsxs)("div",{className:"post-form__content",children:[Object(v.jsx)("label",{htmlFor:"place-name",children:"\uc7a5\uc18c \uc774\ub984 : "}),Object(v.jsx)("input",{type:"text",name:"place-name",onChange:function(e){var t=e.target.value;r(t)},value:s,required:!0})]}),Object(v.jsxs)("div",{className:"post-form__content vertical",children:[Object(v.jsxs)("div",{className:"address-input",children:[X&&Object(v.jsx)(N.a,{autoClose:!0,onComplete:ee}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),Z(!X)},children:"\uc8fc\uc18c \uc785\ub825(\uc9c0\ubc88)"})]}),Object(v.jsxs)("div",{className:"address-content__container",children:[Object(v.jsx)("label",{htmlFor:"place-address",children:"\uc8fc\uc18c : "}),Object(v.jsx)("input",{className:"place-address",type:"text",name:"place-address",value:W,readOnly:!0,required:!0}),Object(v.jsx)("input",{className:"place-address-number",type:"text",name:"place-address-number",value:B,readOnly:!0,required:!0})]}),Object(v.jsxs)("div",{className:"address-content__container",children:[Object(v.jsx)("label",{htmlFor:"place-address",children:"\ub098\uba38\uc9c0 \uc8fc\uc18c : "}),Object(v.jsx)("input",{type:"text",name:"place-extra-address",onChange:function(e){var t=e.target.value;p(t)},value:u})]}),Object(v.jsx)("input",{className:"place-geocode",type:"text",name:"place-geocode",readOnly:!0,value:x,required:!0})]}),Object(v.jsxs)("div",{className:"post-form__content vertical",children:[Object(v.jsx)("label",{htmlFor:"place-type",children:"\uc7a5\uc18c \uc885\ub958"}),Object(v.jsxs)("select",{name:"place-type",required:!0,onChange:function(e){var t=e.target.value;k(t)},children:[Object(v.jsx)("option",{value:"\ub9db\uc9d1",children:"\ub9db\uc9d1"}),Object(v.jsx)("option",{value:"\uce74\ud398 & \ubca0\uc774\ucee4\ub9ac",children:"\uce74\ud398 & \ubca0\uc774\ucee4\ub9ac"}),Object(v.jsx)("option",{value:"\ud48d\uacbd",children:"\ud48d\uacbd"}),Object(v.jsx)("option",{value:"\uadf8 \uc678 \uac00\ubcfc\ub9cc\ud55c \uacf3",children:"\uadf8 \uc678 \uac00\ubcfc\ub9cc\ud55c \uacf3"})]})]}),Object(v.jsxs)("div",{className:"post-form__content vertical",children:[Object(v.jsx)("label",{htmlFor:"place-description",children:"\uc7a5\uc18c \uc124\uba85"}),Object(v.jsx)("textarea",{className:"place-description",name:"place-description",placeholder:"\uc124\uba85",onChange:function(e){var t=e.target.value;L(t)},value:F,required:!0})]}),Object(v.jsxs)("div",{className:"post-form__content vertical",children:[Object(v.jsx)("label",{htmlFor:"place-img",children:"\uc7a5\uc18c \uc0ac\uc9c4(\ud544\uc218 X)"}),Object(v.jsx)("input",{type:"file",accept:"image/*",name:"place-img",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onloadend=function(e){var t=e.currentTarget.result;q(t)}}})]}),Object(v.jsxs)("div",{className:"post-form__content vertical",children:[Object(v.jsx)("label",{htmlFor:"place-description",children:"\ucc38\uace0 \uc0ac\uc774\ud2b8 \uc8fc\uc18c(\uc788\ub2e4\uba74)"}),Object(v.jsx)("input",{type:"url",nmae:"place-url",placeholder:"\uc0ac\uc774\ud2b8 \uc8fc\uc18c",onChange:function(e){var t=e.target.value;R(t)},value:P})]}),Object(v.jsx)("input",{type:"submit",value:"\ub4f1\ub85d\ud558\uae30"})]})},C=function(e){var t=e.userObj,a=Object(o.f)();return Object(v.jsxs)("div",{className:"post__container",children:[Object(v.jsx)(S,{userObj:t}),Object(v.jsx)("button",{onClick:function(){a.push("/")},children:"Home"}),Object(v.jsx)("button",{onClick:function(){b.signOut(),a.push("/")},children:"Logout"})]})},F=function(e){var t=e.isLoggedIn,a=e.userObj;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(l.a,{children:Object(v.jsxs)(o.c,{children:[t?Object(v.jsx)(o.a,{exact:!0,path:"/auth",children:Object(v.jsx)(C,{userObj:a})}):Object(v.jsx)(o.a,{exact:!0,path:"/auth",children:Object(v.jsx)(f,{})}),Object(v.jsx)(o.a,{exact:!0,path:"/",children:Object(v.jsx)(y,{})})]})})})};var L=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(null),r=Object(i.a)(s,2),l=r[0],o=r[1];return Object(n.useEffect)((function(){b.onAuthStateChanged((function(e){o(e?{uid:e.uid}:null),c(!0)}))}),[]),Object(v.jsx)(v.Fragment,{children:a?Object(v.jsx)(F,{isLoggedIn:Boolean(l),userObj:l}):"Loading..."})};r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(L,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.6e713579.chunk.js.map