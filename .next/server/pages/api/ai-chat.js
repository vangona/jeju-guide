"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/ai-chat";
exports.ids = ["pages/api/ai-chat"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fai-chat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fai-chat.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fai-chat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fai-chat.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_ai_chat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/ai-chat.js */ \"(api-node)/./src/pages/api/ai-chat.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_ai_chat_js__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_ai_chat_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_ai_chat_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_ai_chat_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/ai-chat\",\n        pathname: \"/api/ai-chat\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _src_pages_api_ai_chat_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGYWktY2hhdCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyUyRnBhZ2VzJTJGYXBpJTJGYWktY2hhdC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUN1RDtBQUN2RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsc0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHNEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjL3BhZ2VzL2FwaS9haS1jaGF0LmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9haS1jaGF0XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWktY2hhdFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fai-chat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fai-chat.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./prompts/system.js":
/*!***************************!*\
  !*** ./prompts/system.js ***!
  \***************************/
/***/ ((module) => {

eval("\nconst SYSTEM_PROMPT = `당신은 제주도 여행 전문가입니다. 사용자의 질문에 대해 제주도 여행지, 맛집, 체험 등을 추천해주세요. \n\n답변 작성 시 지침:\n1. 친근하고 도움이 되는 톤으로 작성\n2. 구체적인 장소명과 간단한 설명 포함\n3. 필요한 경우 마크다운을 사용하여 가독성 향상 (예: **강조**, 목록, 제목 등)\n4. 답변이 구조화되어야 할 때는 마크다운을 적극 활용\n5. 간단한 답변은 일반 텍스트로도 충분`;\nmodule.exports = {\n    SYSTEM_PROMPT\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3Byb21wdHMvc3lzdGVtLmpzIiwibWFwcGluZ3MiOiI7QUFBQSxNQUFNQSxnQkFBZ0IsQ0FBQzs7Ozs7OztzQkFPRCxDQUFDO0FBRXZCQyxPQUFPQyxPQUFPLEdBQUc7SUFBRUY7QUFBYyIsInNvdXJjZXMiOlsiL1VzZXJzL3ZpbmNlbnQta2ltL0Rlc2t0b3Avc29mdHdhcmUvd2ViLXByb2plY3RzL2planUtZ3VpZGUvcHJvbXB0cy9zeXN0ZW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU1lTVEVNX1BST01QVCA9IGDri7nsi6DsnYAg7KCc7KO864+EIOyXrO2WiSDsoITrrLjqsIDsnoXri4jri6QuIOyCrOyaqeyekOydmCDsp4jrrLjsl5Ag64yA7ZW0IOygnOyjvOuPhCDsl6ztlonsp4AsIOunm+ynkSwg7LK07ZeYIOuTseydhCDstpTsspztlbTso7zshLjsmpQuIFxuXG7ri7Xrs4Ag7J6R7ISxIOyLnCDsp4Dsuag6XG4xLiDsuZzqt7ztlZjqs6Ag64+E7JuA7J20IOuQmOuKlCDthqTsnLzroZwg7J6R7ISxXG4yLiDqtazssrTsoIHsnbgg7J6l7IaM66qF6rO8IOqwhOuLqO2VnCDshKTrqoUg7Y+s7ZWoXG4zLiDtlYTsmpTtlZwg6rK97JqwIOuniO2BrOuLpOyatOydhCDsgqzsmqntlZjsl6wg6rCA64+F7ISxIO2WpeyDgSAo7JiIOiAqKuqwleyhsCoqLCDrqqnroZ0sIOygnOuqqSDrk7EpXG40LiDri7Xrs4DsnbQg6rWs7KGw7ZmU65CY7Ja07JW8IO2VoCDrlYzripQg66eI7YGs64uk7Jq07J2EIOyggeq3uSDtmZzsmqlcbjUuIOqwhOuLqO2VnCDri7Xrs4DsnYAg7J2867CYIO2FjeyKpO2KuOuhnOuPhCDstqnrtoRgO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgU1lTVEVNX1BST01QVCB9OyJdLCJuYW1lcyI6WyJTWVNURU1fUFJPTVBUIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./prompts/system.js\n");

/***/ }),

/***/ "(api-node)/./src/pages/api/ai-chat.js":
/*!**********************************!*\
  !*** ./src/pages/api/ai-chat.js ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"openai\");\n/* harmony import */ var _prompts_system_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../prompts/system.js */ \"(api-node)/./prompts/system.js\");\n/* harmony import */ var _prompts_system_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prompts_system_js__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([openai__WEBPACK_IMPORTED_MODULE_0__]);\nopenai__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function handler(req, res) {\n    // CORS 설정\n    res.setHeader('Access-Control-Allow-Credentials', true);\n    res.setHeader('Access-Control-Allow-Origin', '*');\n    res.setHeader('Access-Control-Allow-Methods', 'GET,OPTIONS,PATCH,DELETE,POST,PUT');\n    res.setHeader('Access-Control-Allow-Headers', 'X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version');\n    if (req.method === 'OPTIONS') {\n        res.status(200).end();\n        return;\n    }\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            error: 'Method not allowed'\n        });\n    }\n    const { query, apiKey, relatedPlaces } = req.body;\n    if (!apiKey) {\n        return res.status(400).json({\n            message: 'OpenAI API 키가 필요합니다.'\n        });\n    }\n    const openai = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        apiKey: apiKey\n    });\n    try {\n        // 관련 장소 정보를 컨텍스트에 포함\n        let enhancedQuery = query;\n        if (relatedPlaces && relatedPlaces.length > 0) {\n            enhancedQuery = `사용자 질문: ${query}\\n\\n참고할 수 있는 제주도 장소 정보:\\n${relatedPlaces}\\n\\n위 장소 정보를 참고하여 답변해주세요.`;\n        }\n        const completion = await openai.chat.completions.create({\n            model: 'gpt-4o-mini',\n            messages: [\n                {\n                    role: 'system',\n                    content: _prompts_system_js__WEBPACK_IMPORTED_MODULE_1__.SYSTEM_PROMPT\n                },\n                {\n                    role: 'user',\n                    content: enhancedQuery\n                }\n            ],\n            max_tokens: 500,\n            temperature: 0.7\n        });\n        const aiResponse = completion.choices[0]?.message?.content || '죄송합니다. 답변을 생성할 수 없습니다.';\n        return res.status(200).json({\n            message: aiResponse,\n            recommendedPlaces: []\n        });\n    } catch (error) {\n        console.error('OpenAI API Error:', error);\n        return res.status(500).json({\n            message: '죄송합니다. 현재 AI 서비스에 문제가 있습니다. 잠시 후 다시 시도해주세요.'\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3NyYy9wYWdlcy9hcGkvYWktY2hhdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTRCO0FBQytCO0FBRTVDLGVBQWVFLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUM1QyxVQUFVO0lBQ1ZBLElBQUlDLFNBQVMsQ0FBQyxvQ0FBb0M7SUFDbERELElBQUlDLFNBQVMsQ0FBQywrQkFBK0I7SUFDN0NELElBQUlDLFNBQVMsQ0FBQyxnQ0FBZ0M7SUFDOUNELElBQUlDLFNBQVMsQ0FDWCxnQ0FDQTtJQUdGLElBQUlGLElBQUlHLE1BQU0sS0FBSyxXQUFXO1FBQzVCRixJQUFJRyxNQUFNLENBQUMsS0FBS0MsR0FBRztRQUNuQjtJQUNGO0lBRUEsSUFBSUwsSUFBSUcsTUFBTSxLQUFLLFFBQVE7UUFDekIsT0FBT0YsSUFBSUcsTUFBTSxDQUFDLEtBQUtFLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXFCO0lBQzVEO0lBRUEsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRUMsYUFBYSxFQUFFLEdBQUdWLElBQUlXLElBQUk7SUFFakQsSUFBSSxDQUFDRixRQUFRO1FBQ1gsT0FBT1IsSUFBSUcsTUFBTSxDQUFDLEtBQUtFLElBQUksQ0FBQztZQUMxQk0sU0FBUztRQUNYO0lBQ0Y7SUFFQSxNQUFNQyxTQUFTLElBQUloQiw4Q0FBTUEsQ0FBQztRQUN4QlksUUFBUUE7SUFDVjtJQUVBLElBQUk7UUFDRixxQkFBcUI7UUFDckIsSUFBSUssZ0JBQWdCTjtRQUNwQixJQUFJRSxpQkFBaUJBLGNBQWNLLE1BQU0sR0FBRyxHQUFHO1lBQzdDRCxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUVOLE1BQU0seUJBQXlCLEVBQUVFLGNBQWMseUJBQXlCLENBQUM7UUFDdEc7UUFFQSxNQUFNTSxhQUFhLE1BQU1ILE9BQU9JLElBQUksQ0FBQ0MsV0FBVyxDQUFDQyxNQUFNLENBQUM7WUFDdERDLE9BQU87WUFDUEMsVUFBVTtnQkFDUjtvQkFDRUMsTUFBTTtvQkFDTkMsU0FBU3pCLDZEQUFhQTtnQkFDeEI7Z0JBQ0E7b0JBQ0V3QixNQUFNO29CQUNOQyxTQUFTVDtnQkFDWDthQUNEO1lBQ0RVLFlBQVk7WUFDWkMsYUFBYTtRQUNmO1FBRUEsTUFBTUMsYUFBYVYsV0FBV1csT0FBTyxDQUFDLEVBQUUsRUFBRWYsU0FBU1csV0FBVztRQUU5RCxPQUFPdEIsSUFBSUcsTUFBTSxDQUFDLEtBQUtFLElBQUksQ0FBQztZQUMxQk0sU0FBU2M7WUFDVEUsbUJBQW1CLEVBQUU7UUFDdkI7SUFDRixFQUFFLE9BQU9yQixPQUFPO1FBQ2RzQixRQUFRdEIsS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkMsT0FBT04sSUFBSUcsTUFBTSxDQUFDLEtBQUtFLElBQUksQ0FBQztZQUMxQk0sU0FBUztRQUNYO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3ZpbmNlbnQta2ltL0Rlc2t0b3Avc29mdHdhcmUvd2ViLXByb2plY3RzL2planUtZ3VpZGUvc3JjL3BhZ2VzL2FwaS9haS1jaGF0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPcGVuQUkgZnJvbSAnb3BlbmFpJztcbmltcG9ydCB7IFNZU1RFTV9QUk9NUFQgfSBmcm9tICcuLi8uLi8uLi9wcm9tcHRzL3N5c3RlbS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgLy8gQ09SUyDshKTsoJVcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCB0cnVlKTtcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTtcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsT1BUSU9OUyxQQVRDSCxERUxFVEUsUE9TVCxQVVQnKTtcbiAgcmVzLnNldEhlYWRlcihcbiAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsXG4gICAgJ1gtQ1NSRi1Ub2tlbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQWNjZXB0LCBBY2NlcHQtVmVyc2lvbiwgQ29udGVudC1MZW5ndGgsIENvbnRlbnQtTUQ1LCBDb250ZW50LVR5cGUsIERhdGUsIFgtQXBpLVZlcnNpb24nXG4gICk7XG5cbiAgaWYgKHJlcS5tZXRob2QgPT09ICdPUFRJT05TJykge1xuICAgIHJlcy5zdGF0dXMoMjAwKS5lbmQoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBxdWVyeSwgYXBpS2V5LCByZWxhdGVkUGxhY2VzIH0gPSByZXEuYm9keTtcblxuICBpZiAoIWFwaUtleSkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IFxuICAgICAgbWVzc2FnZTogJ09wZW5BSSBBUEkg7YKk6rCAIO2VhOyalO2VqeuLiOuLpC4nIFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSSh7XG4gICAgYXBpS2V5OiBhcGlLZXksXG4gIH0pO1xuXG4gIHRyeSB7XG4gICAgLy8g6rSA66CoIOyepeyGjCDsoJXrs7Trpbwg7Luo7YWN7Iqk7Yq47JeQIO2PrO2VqFxuICAgIGxldCBlbmhhbmNlZFF1ZXJ5ID0gcXVlcnk7XG4gICAgaWYgKHJlbGF0ZWRQbGFjZXMgJiYgcmVsYXRlZFBsYWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBlbmhhbmNlZFF1ZXJ5ID0gYOyCrOyaqeyekCDsp4jrrLg6ICR7cXVlcnl9XFxuXFxu7LC46rOg7ZWgIOyImCDsnojripQg7KCc7KO864+EIOyepeyGjCDsoJXrs7Q6XFxuJHtyZWxhdGVkUGxhY2VzfVxcblxcbuychCDsnqXshowg7KCV67O066W8IOywuOqzoO2VmOyXrCDri7Xrs4DtlbTso7zshLjsmpQuYDtcbiAgICB9XG5cbiAgICBjb25zdCBjb21wbGV0aW9uID0gYXdhaXQgb3BlbmFpLmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcbiAgICAgIG1vZGVsOiAnZ3B0LTRvLW1pbmknLFxuICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxuICAgICAgICAgIGNvbnRlbnQ6IFNZU1RFTV9QUk9NUFRcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICBjb250ZW50OiBlbmhhbmNlZFF1ZXJ5XG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBtYXhfdG9rZW5zOiA1MDAsXG4gICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgIH0pO1xuXG4gICAgY29uc3QgYWlSZXNwb25zZSA9IGNvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudCB8fCAn7KOE7Iah7ZWp64uI64ukLiDri7Xrs4DsnYQg7IOd7ISx7ZWgIOyImCDsl4bsirXri4jri6QuJztcblxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBtZXNzYWdlOiBhaVJlc3BvbnNlLFxuICAgICAgcmVjb21tZW5kZWRQbGFjZXM6IFtdXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignT3BlbkFJIEFQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgIG1lc3NhZ2U6ICfso4TshqHtlanri4jri6QuIO2YhOyerCBBSSDshJzruYTsiqTsl5Ag66y47KCc6rCAIOyeiOyKteuLiOuLpC4g7J6g7IucIO2bhCDri6Tsi5wg7Iuc64+E7ZW07KO87IS47JqULidcbiAgICB9KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJPcGVuQUkiLCJTWVNURU1fUFJPTVBUIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNldEhlYWRlciIsIm1ldGhvZCIsInN0YXR1cyIsImVuZCIsImpzb24iLCJlcnJvciIsInF1ZXJ5IiwiYXBpS2V5IiwicmVsYXRlZFBsYWNlcyIsImJvZHkiLCJtZXNzYWdlIiwib3BlbmFpIiwiZW5oYW5jZWRRdWVyeSIsImxlbmd0aCIsImNvbXBsZXRpb24iLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJtYXhfdG9rZW5zIiwidGVtcGVyYXR1cmUiLCJhaVJlc3BvbnNlIiwiY2hvaWNlcyIsInJlY29tbWVuZGVkUGxhY2VzIiwiY29uc29sZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./src/pages/api/ai-chat.js\n");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "openai":
/*!*************************!*\
  !*** external "openai" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("openai");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fai-chat&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fai-chat.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();