(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{5764:(s,e,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return a(7790)}])},7790:(s,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>h});var t=a(7876),n=a(4232),i=a(9099),l=a(1772),c=a(1041),u=a(8312),r=a(5282);let d=()=>{let s=(0,i.useRouter)(),[e,a]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),[_,m]=(0,n.useState)(!1),[o,p]=(0,n.useState)(""),[x,j]=(0,n.useState)(!1),[N,v]=(0,n.useState)(!1),[g,w]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=(0,r.hg)(u.y1,e=>{e?s.replace("/admin"):w(!1)});return()=>e()},[s]);let b=s=>{let{target:{name:e,value:t}}=s;"email"===e?(a(t),p("")):"password"===e&&(h(t),p(""))},f=async a=>{a.preventDefault(),j(!0),p("");try{_?await (0,r.eJ)(u.y1,e,d):await (0,r.x9)(u.y1,e,d),s.replace("/admin")}catch(s){if(s instanceof Error){let e="";p(s.message.includes("user-not-found")?"등록되지 않은 이메일입니다.":s.message.includes("wrong-password")?"비밀번호가 틀렸습니다.":s.message.includes("email-already-in-use")?"이미 사용 중인 이메일입니다.":s.message.includes("weak-password")?"비밀번호는 최소 6자 이상이어야 합니다.":s.message.includes("invalid-email")?"유효하지 않은 이메일 형식입니다.":s.message.includes("too-many-requests")?"너무 많은 시도가 있었습니다. 잠시 후 다시 시도해주세요.":"로그인에 실패했습니다. 다시 시도해주세요.")}else p("알 수 없는 오류가 발생했습니다.")}finally{j(!1)}};return g?(0,t.jsxs)("div",{className:"auth__page",children:[(0,t.jsxs)("div",{className:"auth__background",children:[(0,t.jsx)("div",{className:"auth__wave"}),(0,t.jsx)("div",{className:"auth__wave"}),(0,t.jsx)("div",{className:"auth__wave"})]}),(0,t.jsx)("div",{className:"auth__container",children:(0,t.jsxs)("div",{className:"auth__card",children:[(0,t.jsxs)("div",{className:"auth__header",children:[(0,t.jsx)("h1",{className:"auth__title",children:"제주 가이드"}),(0,t.jsx)("p",{className:"auth__subtitle",children:"로그인 상태를 확인하고 있습니다..."})]}),(0,t.jsx)("div",{className:"auth__loading",children:(0,t.jsx)(l.g,{icon:c.z1G,spin:!0,size:"2x"})})]})})]}):(0,t.jsxs)("div",{className:"auth__page",children:[(0,t.jsxs)("div",{className:"auth__background",children:[(0,t.jsx)("div",{className:"auth__wave"}),(0,t.jsx)("div",{className:"auth__wave"}),(0,t.jsx)("div",{className:"auth__wave"})]}),(0,t.jsxs)("div",{className:"auth__container",children:[(0,t.jsxs)("button",{className:"auth__home-btn",onClick:()=>{s.push("/")},children:[(0,t.jsx)(l.g,{icon:c.v02}),(0,t.jsx)("span",{children:"홈으로 돌아가기"})]}),(0,t.jsxs)("div",{className:"auth__card",children:[(0,t.jsxs)("div",{className:"auth__header",children:[(0,t.jsx)("h1",{className:"auth__title",children:"제주 가이드"}),(0,t.jsx)("p",{className:"auth__subtitle",children:_?"새 계정을 만들어 시작하세요":"계정에 로그인하세요"})]}),(0,t.jsxs)("form",{className:"auth__form",onSubmit:f,children:[(0,t.jsxs)("div",{className:"auth__input-group",children:[(0,t.jsxs)("div",{className:"auth__input-wrapper",children:[(0,t.jsx)(l.g,{icon:c.X46,className:"auth__input-icon"}),(0,t.jsx)("input",{className:"auth__input",name:"email",type:"email",placeholder:"이메일 주소",required:!0,value:e,onChange:b,autoComplete:"email"})]}),(0,t.jsxs)("div",{className:"auth__input-wrapper",children:[(0,t.jsx)(l.g,{icon:c.DW4,className:"auth__input-icon"}),(0,t.jsx)("input",{className:"auth__input",name:"password",type:N?"text":"password",placeholder:"비밀번호",required:!0,value:d,onChange:b,autoComplete:_?"new-password":"current-password"}),(0,t.jsx)("button",{type:"button",className:"auth__toggle-password",onClick:()=>{v(!N)},children:(0,t.jsx)(l.g,{icon:N?c.k6j:c.pS3})})]})]}),o&&(0,t.jsx)("div",{className:"auth__error",children:(0,t.jsx)("span",{children:o})}),(0,t.jsx)("button",{className:"auth__submit-btn",type:"submit",disabled:x,children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.g,{icon:c.z1G,spin:!0}),(0,t.jsx)("span",{children:"처리 중..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.g,{icon:_?c.nWR:c.rhE}),(0,t.jsx)("span",{children:_?"계정 만들기":"로그인"})]})}),(0,t.jsxs)("div",{className:"auth__toggle",children:[(0,t.jsx)("span",{children:_?"이미 계정이 있으신가요?":"계정이 없으신가요?"}),(0,t.jsx)("button",{type:"button",className:"auth__toggle-btn",onClick:()=>{m(s=>!s),p(""),a(""),h("")},children:_?"로그인":"회원가입"})]})]})]})]})]})};function h(){return(0,t.jsx)(d,{})}},9099:(s,e,a)=>{s.exports=a(8253)}},s=>{var e=e=>s(s.s=e);s.O(0,[725,772,636,593,792],()=>e(5764)),_N_E=s.O()}]);