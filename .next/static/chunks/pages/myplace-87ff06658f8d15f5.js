(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{3398:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>h});var c=s(7876),l=s(4232),n=s(9099),t=s(8230),i=s.n(t),r=s(1772),o=s(1041),m=s(4620),d=s(5046);let p=()=>{let e=(0,n.useRouter)(),[a,s]=(0,l.useState)([]),[t,p]=(0,l.useState)([]),[h,_]=(0,l.useState)("전체"),[x,j]=(0,l.useState)("최근순"),[u,N]=(0,l.useState)(""),v=()=>{e.back()},y=()=>{e.push("/")},g=a=>{("지도"===a||"목록"===a)&&e.push("/")};(0,l.useEffect)(()=>{let e=localStorage.getItem("micheltain_myplace"),a=e?JSON.parse(e):[];s(a),p(a)},[]),(0,l.useEffect)(()=>{let e=[...a];"전체"!==h&&(e=e.filter(e=>e.type===h)),u&&(e=e.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())||e.description.toLowerCase().includes(u.toLowerCase())||e.address.toLowerCase().includes(u.toLowerCase()))),"이름순"===x?e.sort((e,a)=>e.name.localeCompare(a.name)):"타입순"===x&&e.sort((e,a)=>e.type.localeCompare(a.type)),p(e)},[a,h,x,u]);let b=()=>{let e=localStorage.getItem("micheltain_myplace");s(e?JSON.parse(e):[])},f=async e=>new Promise(a=>{a(window.confirm('"'.concat(e.name,'"을(를) 관심 목록에서 제거하시겠습니까?\n\n이 작업은 되돌릴 수 없습니다.')))});return 0===a.length?(0,c.jsxs)("div",{className:"myplace__container",children:[(0,c.jsx)("header",{className:"myplace__header",children:(0,c.jsxs)("div",{className:"myplace__nav",children:[(0,c.jsxs)("button",{className:"nav-btn nav-btn--back",onClick:v,children:[(0,c.jsx)(r.g,{icon:o.CeG}),(0,c.jsx)("span",{children:"뒤로"})]}),(0,c.jsxs)("h1",{className:"myplace__title",children:[(0,c.jsx)(r.g,{icon:o.qcK,className:"title-icon"}),"나의 장소"]}),(0,c.jsxs)("button",{className:"nav-btn nav-btn--home",onClick:y,children:[(0,c.jsx)(r.g,{icon:o.v02}),(0,c.jsx)("span",{children:"홈"})]})]})}),(0,c.jsx)("div",{className:"myplace__empty",children:(0,c.jsxs)("div",{className:"empty__content",children:[(0,c.jsx)(r.g,{icon:o.qcK,className:"empty__icon"}),(0,c.jsx)("h3",{children:"저장된 장소가 없습니다"}),(0,c.jsx)("p",{children:"마음에 드는 장소를 찾아서 하트 버튼을 눌러보세요!"}),(0,c.jsx)("button",{className:"btn-primary",onClick:y,children:"장소 둘러보기"})]})}),(0,c.jsx)(d.A,{handleViewTypeChange:g})]}):(0,c.jsxs)("div",{className:"myplace__container",children:[(0,c.jsx)("header",{className:"myplace__header",children:(0,c.jsxs)("div",{className:"myplace__nav",children:[(0,c.jsxs)("button",{className:"nav-btn nav-btn--back",onClick:v,children:[(0,c.jsx)(r.g,{icon:o.CeG}),(0,c.jsx)("span",{children:"뒤로"})]}),(0,c.jsxs)("h1",{className:"myplace__title",children:[(0,c.jsx)(r.g,{icon:o.qcK,className:"title-icon"}),"나의 장소 (",a.length,")"]}),(0,c.jsxs)("button",{className:"nav-btn nav-btn--home",onClick:y,children:[(0,c.jsx)(r.g,{icon:o.v02}),(0,c.jsx)("span",{children:"홈"})]})]})}),(0,c.jsxs)("div",{className:"myplace__content",children:[(0,c.jsxs)("div",{className:"myplace__controls",children:[(0,c.jsx)("div",{className:"search__container",children:(0,c.jsx)("input",{type:"text",placeholder:"장소 이름, 설명, 주소로 검색...",value:u,onChange:e=>N(e.target.value),className:"search__input"})}),(0,c.jsxs)("div",{className:"controls__row",children:[(0,c.jsxs)("div",{className:"filter__group",children:[(0,c.jsx)(r.g,{icon:o.mRM,className:"control-icon"}),(0,c.jsxs)("select",{value:h,onChange:e=>_(e.target.value),className:"filter__select",style:{color:"black"},children:[(0,c.jsx)("option",{value:"전체",children:"전체 타입"}),(()=>{let e=a.map(e=>e.type),s=[];return e.forEach(e=>{s.includes(e)||s.push(e)}),s})().map(e=>(0,c.jsx)("option",{value:e,children:e},e))]})]}),(0,c.jsxs)("div",{className:"sort__group",children:[(0,c.jsx)(r.g,{icon:o.OM7,className:"control-icon"}),(0,c.jsxs)("select",{value:x,onChange:e=>j(e.target.value),className:"sort__select",children:[(0,c.jsx)("option",{value:"최근순",children:"최근순"}),(0,c.jsx)("option",{value:"이름순",children:"이름순"}),(0,c.jsx)("option",{value:"타입순",children:"타입순"})]})]})]})]}),(0,c.jsx)("div",{className:"places__grid",children:0===t.length?(0,c.jsxs)("div",{className:"no-results",children:[(0,c.jsx)(r.g,{icon:o.RUA,className:"no-results__icon"}),(0,c.jsx)("p",{children:"검색 결과가 없습니다"})]}):t.map((e,a)=>(0,c.jsxs)("div",{className:"place__card",children:[(0,c.jsxs)("div",{className:"card__header",children:[(0,c.jsxs)("div",{className:"place__info",children:[(0,c.jsx)("h3",{className:"place__name",children:e.name}),(0,c.jsx)("span",{className:"place__type",children:e.type})]}),(0,c.jsx)(m.A,{place:e,size:"small",onUpdate:b,onRemoveConfirm:f})]}),(0,c.jsxs)("div",{className:"card__content",children:[(0,c.jsx)("p",{className:"place__description",children:e.description.length>120?"".concat(e.description.slice(0,120),"..."):e.description}),e.address&&(0,c.jsxs)("div",{className:"place__address",children:[(0,c.jsx)(r.g,{icon:o.Pcr,className:"address-icon"}),(0,c.jsx)("span",{children:e.addressDetail})]})]}),(0,c.jsx)("div",{className:"card__actions",children:(0,c.jsxs)(i(),{href:"/detail/".concat(e.name),className:"btn-detail",children:[(0,c.jsx)(r.g,{icon:o.DY7}),(0,c.jsx)("span",{children:"자세히 보기"})]})})]},"".concat(e.name,"-").concat(a)))})]}),(0,c.jsx)(d.A,{handleViewTypeChange:g})]})};function h(){return(0,c.jsx)(p,{})}},4620:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var c=s(7876),l=s(4232),n=s(1772),t=s(1041);let i=e=>{let{place:a,size:s="medium",showLabel:i=!1,onUpdate:r,onRemoveConfirm:o}=e,[m,d]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem("micheltain_myplace");e&&d(JSON.parse(e).some(e=>e.name===a.name))},[a.name]);let _=async()=>{if(m){if(o&&!await o(a))return;let e=localStorage.getItem("micheltain_myplace");if(e){let s=JSON.parse(e).filter(e=>e.name!==a.name);localStorage.setItem("micheltain_myplace",JSON.stringify(s)),d(!1),null==r||r()}}else{let e=localStorage.getItem("micheltain_myplace"),s=e?JSON.parse(e):[];s.some(e=>e.name===a.name)||(localStorage.setItem("micheltain_myplace",JSON.stringify([...s,a])),d(!0),h(!0),null==r||r(),setTimeout(()=>h(!1),600))}},x=()=>m?"저장됨":"여행 계획에 추가";return(0,c.jsxs)("button",{className:(()=>{let e="add-my-place-btn";return e+=" add-my-place-btn--".concat(s),m&&(e+=" add-my-place-btn--added"),p&&(e+=" add-my-place-btn--animating"),e})(),onClick:_,"aria-label":m?"여행 계획에서 제거":"여행 계획에 추가",title:x(),children:[(0,c.jsx)(n.g,{icon:p?t.e68:m?t.qcK:t.QLR}),i&&(0,c.jsx)("span",{className:"add-my-place-label",children:x()})]})}},5046:(e,a,s)=>{"use strict";s.d(a,{A:()=>o});var c=s(7876),l=s(4232),n=s(8230),t=s.n(n),i=s(1772),r=s(1041);let o=e=>{let{handleViewTypeChange:a}=e,[s,n]=(0,l.useState)("지도"),o=e=>{switch(n(e),e){case"지도":a("지도");break;case"목록":a("목록")}},m=[{key:"지도",label:"Map",icon:r.e5w},{key:"목록",label:"List",icon:r.ITF}];return(0,c.jsxs)("nav",{className:"nav__container",children:[m.map(e=>(0,c.jsxs)("button",{className:"nav__component ".concat(s===e.key?"nav__component--active":""),onClick:()=>o(e.key),"aria-label":e.label,children:[(0,c.jsx)(i.g,{icon:e.icon}),(0,c.jsx)("span",{className:"nav__label",children:e.label})]},e.key)),(0,c.jsxs)(t(),{href:"/myplace",className:"nav__component nav__component--link",children:[(0,c.jsx)(i.g,{icon:r.qcK}),(0,c.jsx)("span",{className:"nav__label",children:"My"})]}),(0,c.jsxs)(t(),{href:"/tips",className:"nav__component nav__component--link",children:[(0,c.jsx)(i.g,{icon:r.rC2}),(0,c.jsx)("span",{className:"nav__label",children:"Tips"})]})]})}},7584:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/myplace",function(){return s(3398)}])},9099:(e,a,s)=>{e.exports=s(8253)}},e=>{var a=a=>e(e.s=a);e.O(0,[725,772,230,636,593,792],()=>a(7584)),_N_E=e.O()}]);