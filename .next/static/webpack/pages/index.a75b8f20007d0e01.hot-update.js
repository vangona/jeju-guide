"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "(pages-dir-browser)/./src/utils/vectorSearch.ts":
/*!***********************************!*\
  !*** ./src/utils/vectorSearch.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createContextFromPlaces: () => (/* binding */ createContextFromPlaces),\n/* harmony export */   searchPlacesWithVector: () => (/* binding */ searchPlacesWithVector)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/_/_async_to_generator */ \"(pages-dir-browser)/./node_modules/@swc/helpers/esm/_async_to_generator.js\");\n/* harmony import */ var _swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @swc/helpers/_/_ts_generator */ \"(pages-dir-browser)/./node_modules/@swc/helpers/esm/_ts_generator.js\");\n/* harmony import */ var _fBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../fBase */ \"(pages-dir-browser)/./src/fBase.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"(pages-dir-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n\n\n\n\n// OpenAI Embeddings 생성 함수\nvar createEmbedding = /*#__PURE__*/ function() {\n    var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_2__._)(function(text, apiKey) {\n        var response, data;\n        return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_3__._)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    return [\n                        4,\n                        fetch('https://api.openai.com/v1/embeddings', {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json',\n                                Authorization: \"Bearer \".concat(apiKey)\n                            },\n                            body: JSON.stringify({\n                                model: 'text-embedding-3-small',\n                                input: text\n                            })\n                        })\n                    ];\n                case 1:\n                    response = _state.sent();\n                    if (!response.ok) {\n                        throw new Error('Failed to create embedding');\n                    }\n                    return [\n                        4,\n                        response.json()\n                    ];\n                case 2:\n                    data = _state.sent();\n                    return [\n                        2,\n                        data.data[0].embedding\n                    ];\n            }\n        });\n    });\n    return function createEmbedding(text, apiKey) {\n        return _ref.apply(this, arguments);\n    };\n}();\n// 기본 텍스트 검색 (폴백용)\nvar searchPlacesWithText = /*#__PURE__*/ function() {\n    var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_2__._)(function(searchQuery) {\n        var maxResults, placesRef, searchLower, snapshot, places, scoredPlaces, error;\n        var _arguments = arguments;\n        return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_3__._)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    maxResults = _arguments.length > 1 && _arguments[1] !== void 0 ? _arguments[1] : 3;\n                    _state.label = 1;\n                case 1:\n                    _state.trys.push([\n                        1,\n                        3,\n                        ,\n                        4\n                    ]);\n                    placesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(_fBase__WEBPACK_IMPORTED_MODULE_0__.dbService, 'places');\n                    searchLower = searchQuery.toLowerCase();\n                    return [\n                        4,\n                        (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(placesRef)\n                    ];\n                case 2:\n                    snapshot = _state.sent();\n                    places = [];\n                    snapshot.forEach(function(doc) {\n                        var _data_name, _data_description, _data_address;\n                        var data = doc.data();\n                        data.id = doc.id; // 문서 ID 추가\n                        var name = ((_data_name = data.name) === null || _data_name === void 0 ? void 0 : _data_name.toLowerCase()) || '';\n                        var description = ((_data_description = data.description) === null || _data_description === void 0 ? void 0 : _data_description.toLowerCase()) || '';\n                        var address = ((_data_address = data.address) === null || _data_address === void 0 ? void 0 : _data_address.toLowerCase()) || '';\n                        // 간단한 텍스트 매칭\n                        if (name.includes(searchLower) || description.includes(searchLower) || address.includes(searchLower)) {\n                            places.push(data);\n                        }\n                    });\n                    // 관련성 점수 계산 및 정렬\n                    scoredPlaces = places.map(function(place) {\n                        var _place_name, _place_description;\n                        var score = 0;\n                        var nameLower = ((_place_name = place.name) === null || _place_name === void 0 ? void 0 : _place_name.toLowerCase()) || '';\n                        var descLower = ((_place_description = place.description) === null || _place_description === void 0 ? void 0 : _place_description.toLowerCase()) || '';\n                        // 이름에 포함되면 높은 점수\n                        if (nameLower.includes(searchLower)) score += 10;\n                        // 설명에 포함되면 중간 점수\n                        if (descLower.includes(searchLower)) score += 5;\n                        // 완전 일치하면 추가 점수\n                        if (nameLower === searchLower) score += 20;\n                        return {\n                            place: place,\n                            score: score\n                        };\n                    });\n                    console.log(scoredPlaces);\n                    // 점수순으로 정렬하고 상위 결과만 반환\n                    return [\n                        2,\n                        scoredPlaces.sort(function(a, b) {\n                            return b.score - a.score;\n                        }).slice(0, maxResults).map(function(item) {\n                            return item.place;\n                        })\n                    ];\n                case 3:\n                    error = _state.sent();\n                    return [\n                        2,\n                        []\n                    ];\n                case 4:\n                    return [\n                        2\n                    ];\n            }\n        });\n    });\n    return function searchPlacesWithText(searchQuery) {\n        return _ref.apply(this, arguments);\n    };\n}();\n// Pinecone Vector Search 함수\nvar searchPlacesWithVector = /*#__PURE__*/ function() {\n    var _ref = (0,_swc_helpers_async_to_generator__WEBPACK_IMPORTED_MODULE_2__._)(function(searchQuery, apiKey) {\n        var maxResults, apiUrl, response, data, error;\n        var _arguments = arguments;\n        return (0,_swc_helpers_ts_generator__WEBPACK_IMPORTED_MODULE_3__._)(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    maxResults = _arguments.length > 2 && _arguments[2] !== void 0 ? _arguments[2] : 3;\n                    _state.label = 1;\n                case 1:\n                    _state.trys.push([\n                        1,\n                        4,\n                        ,\n                        5\n                    ]);\n                    // Vercel Functions를 통해 Pinecone 검색 수행\n                    apiUrl =  true ? 'http://localhost:3000/api/vector-search' : 0;\n                    return [\n                        4,\n                        fetch(apiUrl, {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json'\n                            },\n                            body: JSON.stringify({\n                                query: searchQuery,\n                                apiKey: apiKey,\n                                limit: maxResults\n                            })\n                        })\n                    ];\n                case 2:\n                    response = _state.sent();\n                    if (!response.ok) {\n                        throw new Error('Vector search API failed');\n                    }\n                    return [\n                        4,\n                        response.json()\n                    ];\n                case 3:\n                    data = _state.sent();\n                    if (data.success && data.places) {\n                        return [\n                            2,\n                            data.places\n                        ];\n                    } else {\n                        throw new Error('Vector search returned no results');\n                    }\n                    return [\n                        3,\n                        5\n                    ];\n                case 4:\n                    error = _state.sent();\n                    console.warn('Vector search failed, falling back to text search:', error);\n                    // 벡터 검색 실패 시 기본 텍스트 검색으로 폴백\n                    return [\n                        2,\n                        searchPlacesWithText(searchQuery, maxResults)\n                    ];\n                case 5:\n                    return [\n                        2\n                    ];\n            }\n        });\n    });\n    return function searchPlacesWithVector(searchQuery, apiKey) {\n        return _ref.apply(this, arguments);\n    };\n}();\n// 컨텍스트 생성 함수\nvar createContextFromPlaces = function(places) {\n    if (places.length === 0) {\n        return '검색 결과가 없습니다.';\n    }\n    var context = places.map(function(place, index) {\n        return \"\".concat(index + 1, \". \").concat(place.name, \"\\n주소: \").concat(place.address).concat(place.extraAddress ? \" \".concat(place.extraAddress) : '', \"\\n설명: \").concat(place.description, \"\\n종류: \").concat(place.type, \"\\n\");\n    }).join('\\n---\\n');\n    return context;\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy91dGlscy92ZWN0b3JTZWFyY2gudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBcUM7QUFDMkM7QUFHaEYsMEJBQTBCO0FBQzFCLElBQU1HO2VBQWtCLDRFQUFPQyxNQUFjQztZQUNyQ0MsVUFnQkFDOzs7O29CQWhCVzs7d0JBQU1DLE1BQU0sd0NBQXdDOzRCQUNuRUMsUUFBUTs0QkFDUkMsU0FBUztnQ0FDUCxnQkFBZ0I7Z0NBQ2hCLGVBQWlCLFVBQWlCLE9BQVBMOzRCQUM3Qjs0QkFDQU0sTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dDQUNuQkMsT0FBTztnQ0FDUEMsT0FBT1g7NEJBQ1Q7d0JBQ0Y7OztvQkFWTUUsV0FBVztvQkFZakIsSUFBSSxDQUFDQSxTQUFTVSxFQUFFLEVBQUU7d0JBQ2hCLE1BQU0sSUFBSUMsTUFBTTtvQkFDbEI7b0JBRWE7O3dCQUFNWCxTQUFTWSxJQUFJOzs7b0JBQTFCWCxPQUFPO29CQUNiOzt3QkFBT0EsS0FBS0EsSUFBSSxDQUFDLEVBQUUsQ0FBQ1ksU0FBUzs7OztJQUMvQjtvQkFuQk1oQixnQkFBeUJDLE1BQWNDOzs7O0FBcUI3QyxrQkFBa0I7QUFDbEIsSUFBTWU7ZUFBdUIsNEVBQU9DO1lBQXFCQyxZQUUvQ0MsV0FDQUMsYUFHQUMsVUFDQUMsUUFrQkFDLGNBc0JDQzs7Ozs7b0JBL0M4Q04saUZBQXFCOzs7Ozs7Ozs7b0JBRXBFQyxZQUFZdEIsOERBQVVBLENBQUNELDZDQUFTQSxFQUFFO29CQUNsQ3dCLGNBQWNILFlBQVlRLFdBQVc7b0JBRzFCOzt3QkFBTTNCLDJEQUFPQSxDQUFDcUI7OztvQkFBekJFLFdBQVc7b0JBQ1hDO29CQUVORCxTQUFTSyxPQUFPLENBQUMsU0FBQ0M7NEJBR0h4QixZQUNPQSxtQkFDSkE7d0JBSmhCLElBQU1BLE9BQU93QixJQUFJeEIsSUFBSTt3QkFDckJBLEtBQUt5QixFQUFFLEdBQUdELElBQUlDLEVBQUUsRUFBRSxXQUFXO3dCQUM3QixJQUFN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QUVBLElBQU1DLFVBQVVqQyxPQUFPWSxHQUFHLENBQUMsU0FBQ0MsT0FBT3FCO1FBQ2pDLE9BQU8sR0FBaUJyQixPQUFkcUIsUUFBUSxHQUFFLE1BQ2xCckIsT0FEc0JBLE1BQU1OLElBQUksRUFBQyxVQUNqQk0sT0FBaEJBLE1BQU1KLE9BQU8sRUFDYkksT0FEZ0JBLE1BQU1zQixZQUFZLEdBQUcsSUFBdUIsT0FBbkJ0QixNQUFNc0IsWUFBWSxJQUFLLElBQUcsVUFFbkV0QixPQURBQSxNQUFNTCxXQUFXLEVBQUMsVUFDUCxPQUFYSyxNQUFNdUIsSUFBSSxFQUFDO0lBRWYsR0FBR0MsSUFBSSxDQUFDO0lBRVIsT0FBT0o7QUFDVCxFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvdmluY2VudC1raW0vRGVza3RvcC9zb2Z0d2FyZS93ZWItcHJvamVjdHMvamVqdS1ndWlkZS9zcmMvdXRpbHMvdmVjdG9yU2VhcmNoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiU2VydmljZSB9IGZyb20gJy4uL2ZCYXNlJztcbmltcG9ydCB7IGNvbGxlY3Rpb24sIGdldERvY3MsIHF1ZXJ5LCBvcmRlckJ5LCBsaW1pdCB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgdHlwZSB7IFBsYWNlSW5mbyB9IGZyb20gJy4uL3R5cGVzJztcblxuLy8gT3BlbkFJIEVtYmVkZGluZ3Mg7IOd7ISxIO2VqOyImFxuY29uc3QgY3JlYXRlRW1iZWRkaW5nID0gYXN5bmMgKHRleHQ6IHN0cmluZywgYXBpS2V5OiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcltdPiA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvZW1iZWRkaW5ncycsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXBpS2V5fWBcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIG1vZGVsOiAndGV4dC1lbWJlZGRpbmctMy1zbWFsbCcsXG4gICAgICBpbnB1dDogdGV4dFxuICAgIH0pXG4gIH0pO1xuXG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgZW1iZWRkaW5nJyk7XG4gIH1cblxuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICByZXR1cm4gZGF0YS5kYXRhWzBdLmVtYmVkZGluZztcbn07XG5cbi8vIOq4sOuzuCDthY3siqTtirgg6rKA7IOJICjtj7TrsLHsmqkpXG5jb25zdCBzZWFyY2hQbGFjZXNXaXRoVGV4dCA9IGFzeW5jIChzZWFyY2hRdWVyeTogc3RyaW5nLCBtYXhSZXN1bHRzOiBudW1iZXIgPSAzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGxhY2VzUmVmID0gY29sbGVjdGlvbihkYlNlcnZpY2UsICdwbGFjZXMnKTtcbiAgICBjb25zdCBzZWFyY2hMb3dlciA9IHNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgXG4gICAgLy8g7KCE7LK0IOyepeyGjCDqsIDsoLjsmKTquLBcbiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocGxhY2VzUmVmKTtcbiAgICBjb25zdCBwbGFjZXM6IFBsYWNlSW5mb1tdID0gW107XG4gICAgXG4gICAgc25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKSBhcyBQbGFjZUluZm87XG4gICAgICBkYXRhLmlkID0gZG9jLmlkOyAvLyDrrLjshJwgSUQg7LaU6rCAXG4gICAgICBjb25zdCBuYW1lID0gZGF0YS5uYW1lPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xuICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xuICAgICAgY29uc3QgYWRkcmVzcyA9IGRhdGEuYWRkcmVzcz8udG9Mb3dlckNhc2UoKSB8fCAnJztcbiAgICAgIFxuICAgICAgLy8g6rCE64uo7ZWcIO2FjeyKpO2KuCDrp6Tsua1cbiAgICAgIGlmIChuYW1lLmluY2x1ZGVzKHNlYXJjaExvd2VyKSB8fCBcbiAgICAgICAgICBkZXNjcmlwdGlvbi5pbmNsdWRlcyhzZWFyY2hMb3dlcikgfHwgXG4gICAgICAgICAgYWRkcmVzcy5pbmNsdWRlcyhzZWFyY2hMb3dlcikpIHtcbiAgICAgICAgcGxhY2VzLnB1c2goZGF0YSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8g6rSA66Co7ISxIOygkOyImCDqs4TsgrAg67CPIOygleugrFxuICAgIGNvbnN0IHNjb3JlZFBsYWNlcyA9IHBsYWNlcy5tYXAocGxhY2UgPT4ge1xuICAgICAgbGV0IHNjb3JlID0gMDtcbiAgICAgIGNvbnN0IG5hbWVMb3dlciA9IHBsYWNlLm5hbWU/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XG4gICAgICBjb25zdCBkZXNjTG93ZXIgPSBwbGFjZS5kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcbiAgICAgIFxuICAgICAgLy8g7J2066aE7JeQIO2PrO2VqOuQmOuptCDrhpLsnYAg7KCQ7IiYXG4gICAgICBpZiAobmFtZUxvd2VyLmluY2x1ZGVzKHNlYXJjaExvd2VyKSkgc2NvcmUgKz0gMTA7XG4gICAgICAvLyDshKTrqoXsl5Ag7Y+s7ZWo65CY66m0IOykkeqwhCDsoJDsiJhcbiAgICAgIGlmIChkZXNjTG93ZXIuaW5jbHVkZXMoc2VhcmNoTG93ZXIpKSBzY29yZSArPSA1O1xuICAgICAgLy8g7JmE7KCEIOydvOy5mO2VmOuptCDstpTqsIAg7KCQ7IiYXG4gICAgICBpZiAobmFtZUxvd2VyID09PSBzZWFyY2hMb3dlcikgc2NvcmUgKz0gMjA7XG4gICAgICBcbiAgICAgIHJldHVybiB7IHBsYWNlLCBzY29yZSB9O1xuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coc2NvcmVkUGxhY2VzKVxuICAgIFxuICAgIC8vIOygkOyImOyInOycvOuhnCDsoJXroKztlZjqs6Ag7IOB7JyEIOqysOqzvOunjCDrsJjtmZhcbiAgICByZXR1cm4gc2NvcmVkUGxhY2VzXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5zY29yZSAtIGEuc2NvcmUpXG4gICAgICAuc2xpY2UoMCwgbWF4UmVzdWx0cylcbiAgICAgIC5tYXAoaXRlbSA9PiBpdGVtLnBsYWNlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbi8vIFBpbmVjb25lIFZlY3RvciBTZWFyY2gg7ZWo7IiYXG5leHBvcnQgY29uc3Qgc2VhcmNoUGxhY2VzV2l0aFZlY3RvciA9IGFzeW5jIChcbiAgc2VhcmNoUXVlcnk6IHN0cmluZywgXG4gIGFwaUtleTogc3RyaW5nLFxuICBtYXhSZXN1bHRzOiBudW1iZXIgPSAzXG4pOiBQcm9taXNlPFBsYWNlSW5mb1tdPiA9PiB7XG4gIHRyeSB7XG4gICAgLy8gVmVyY2VsIEZ1bmN0aW9uc+ulvCDthrXtlbQgUGluZWNvbmUg6rKA7IOJIOyImO2WiVxuICAgIGNvbnN0IGFwaVVybCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnIFxuICAgICAgPyAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS92ZWN0b3Itc2VhcmNoJ1xuICAgICAgOiAnL2FwaS92ZWN0b3Itc2VhcmNoJztcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgXG4gICAgICAgIHF1ZXJ5OiBzZWFyY2hRdWVyeSwgXG4gICAgICAgIGFwaUtleSxcbiAgICAgICAgbGltaXQ6IG1heFJlc3VsdHNcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZlY3RvciBzZWFyY2ggQVBJIGZhaWxlZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKGRhdGEuc3VjY2VzcyAmJiBkYXRhLnBsYWNlcykge1xuICAgICAgcmV0dXJuIGRhdGEucGxhY2VzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZlY3RvciBzZWFyY2ggcmV0dXJuZWQgbm8gcmVzdWx0cycpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ1ZlY3RvciBzZWFyY2ggZmFpbGVkLCBmYWxsaW5nIGJhY2sgdG8gdGV4dCBzZWFyY2g6JywgZXJyb3IpO1xuICAgIC8vIOuyoe2EsCDqsoDsg4kg7Iuk7YyoIOyLnCDquLDrs7gg7YWN7Iqk7Yq4IOqygOyDieycvOuhnCDtj7TrsLFcbiAgICByZXR1cm4gc2VhcmNoUGxhY2VzV2l0aFRleHQoc2VhcmNoUXVlcnksIG1heFJlc3VsdHMpO1xuICB9XG59O1xuXG4vLyDsu6jthY3siqTtirgg7IOd7ISxIO2VqOyImFxuZXhwb3J0IGNvbnN0IGNyZWF0ZUNvbnRleHRGcm9tUGxhY2VzID0gKHBsYWNlczogUGxhY2VJbmZvW10pOiBzdHJpbmcgPT4ge1xuICBpZiAocGxhY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAn6rKA7IOJIOqysOqzvOqwgCDsl4bsirXri4jri6QuJztcbiAgfVxuICBcbiAgY29uc3QgY29udGV4dCA9IHBsYWNlcy5tYXAoKHBsYWNlLCBpbmRleCkgPT4ge1xuICAgIHJldHVybiBgJHtpbmRleCArIDF9LiAke3BsYWNlLm5hbWV9XG7so7zshow6ICR7cGxhY2UuYWRkcmVzc30ke3BsYWNlLmV4dHJhQWRkcmVzcyA/IGAgJHtwbGFjZS5leHRyYUFkZHJlc3N9YCA6ICcnfVxu7ISk66qFOiAke3BsYWNlLmRlc2NyaXB0aW9ufVxu7KKF66WYOiAke3BsYWNlLnR5cGV9XG5gO1xuICB9KS5qb2luKCdcXG4tLS1cXG4nKTtcbiAgXG4gIHJldHVybiBjb250ZXh0O1xufTsiXSwibmFtZXMiOlsiZGJTZXJ2aWNlIiwiY29sbGVjdGlvbiIsImdldERvY3MiLCJjcmVhdGVFbWJlZGRpbmciLCJ0ZXh0IiwiYXBpS2V5IiwicmVzcG9uc2UiLCJkYXRhIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtb2RlbCIsImlucHV0Iiwib2siLCJFcnJvciIsImpzb24iLCJlbWJlZGRpbmciLCJzZWFyY2hQbGFjZXNXaXRoVGV4dCIsInNlYXJjaFF1ZXJ5IiwibWF4UmVzdWx0cyIsInBsYWNlc1JlZiIsInNlYXJjaExvd2VyIiwic25hcHNob3QiLCJwbGFjZXMiLCJzY29yZWRQbGFjZXMiLCJlcnJvciIsInRvTG93ZXJDYXNlIiwiZm9yRWFjaCIsImRvYyIsImlkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiYWRkcmVzcyIsImluY2x1ZGVzIiwicHVzaCIsIm1hcCIsInBsYWNlIiwic2NvcmUiLCJuYW1lTG93ZXIiLCJkZXNjTG93ZXIiLCJjb25zb2xlIiwibG9nIiwic29ydCIsImEiLCJiIiwic2xpY2UiLCJpdGVtIiwic2VhcmNoUGxhY2VzV2l0aFZlY3RvciIsImFwaVVybCIsInByb2Nlc3MiLCJxdWVyeSIsImxpbWl0Iiwic3VjY2VzcyIsIndhcm4iLCJjcmVhdGVDb250ZXh0RnJvbVBsYWNlcyIsImxlbmd0aCIsImNvbnRleHQiLCJpbmRleCIsImV4dHJhQWRkcmVzcyIsInR5cGUiLCJqb2luIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/utils/vectorSearch.ts\n"));

/***/ })

});